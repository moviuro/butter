.\" Text automatically generated by txt2man
.TH untitled  "28 May 2018" "" ""
.SH NAME
\fBbutter \fP- butter file hierarchy
\fB
.SH DESCRIPTION
Because butter handles btrfs subvolumes, snapshot, and also, maybe one day,
remote send/receive, we need to setup some things.
.PP
/mnt/butter - butter_root
This is where butter directories and others live. This can be set with
\fBbutterrc\fP(5)
.PP
contents of /etc/machineid or output of `uname \fB-r\fP` - butter_host
There should be a directory inside $butter_root per host that \fBbutter\fP(8)
will manage.
.RS
.PP
Examples:
.RS
.IP \(bu 3
/mnt/butter/c9865490735f4d0d825aaaab0dfaa6b0/
.IP \(bu 3
/mnt/butter/toxoplasmosis/
.RE
.RE
.PP
btrfs UUID
We use UUIDs for each btrfs filesystem that \fBbutter\fP(8) will manage.
.RS
.TP
.B
FYI, you can use `lsblk \fB-fl\fP|awk '{ if ( ~ "btrfs") print
}'` to
.TP
.B
find said UUIDs.
There, we mount the btrfs filesystems with the
appropriate UUID with the `\fB-o\fP subvol=/` option.
.PP
Example:
.RS
.IP \(bu 3
/mnt/butter/c9865490735f4d0d825aaaab0dfaa6b0/ec627755-028e-4724-a25b-7b7062dede45
.RE
.RE
.PP
__butter
Then, to avoid polluting the root of the btrfs filesystem, we isolate
.RS
.TP
.B
butter's snapshot in their own directory.
This folder typically holds
.TP
.B
numerous snapshots, that can be hard to navigate.
Use `butter snaplist`
to find out what's what.
.RE
.PP
<mountpoint>@uuid
.RS
.TP
.B
A typical butter subvolume.
Should curiosity get the best of you, use
\fBgetfattr\fP(1) to dump extended attributes.
.SH SEE ALSO
\fBbutter\fP(8), \fBbutterrc\fP(5)
